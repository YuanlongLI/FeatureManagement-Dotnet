{
  "Logging": {
    "LogLevel": {
      "Default": "Warning"
    }
  },
  "AllowedHosts": "*",

  // Define feature flags in config file
  "FeatureManagement": {

    "Home": true,
    "Beta": {
      "EnabledFor": [
        {
          "Name": "Browser",
          "Parameters": { // This json object maps to a strongly typed configuration class
            "AllowedBrowsers": [ "Chrome", "Edge" ]
          }
        }
      ]
    },
    "CustomViewData": true,
    "ContentEnhancement": {
      "EnabledFor": [
        {
          "Name": "TimeWindow",
          "Parameters": {
            "Start": "Wed, 01 May 2019 13:59:59 GMT",
            "End": "Mon, 01 July 2019 00:00:00 GMT"
          }
        }
      ]
    },
    "EnhancedPipeline": {
      "EnabledFor": [
        {
          "Name": "Microsoft.Percentage",
          "Parameters": { // This json object maps to a strongly typed configuration class
            "Value": 50
          }
        }
      ]
    },

    "AboutBox": {

      "AlwaysOn": true,

      "RolloutId": "AboutImprovements", // Can only be a part of one rollout, this is used to keep user assignments consistent between features making up one rollout

      "DefaultVariation": "OptionA",  // Better ?

      "Variation": {

        // optiona, optionb, optionc

        "OptionA": {
          "Default": true,
          "Targeting": {
            "Users": [
            ],
            "DefaultRollout": { // The name UserRollout collides with Targeting:Users
              "Percentage": 33
            }
          },
          "Configuration": {
            "Width": 400,
            "Height": 300,
            "BorderColor": "purple",
            "ImageUrl": "https://cdn.pixabay.com/photo/2019/06/12/21/09/ocean-4270249_960_720.jpg" // https://pixabay.com/photos/ocean-beach-water-sand-nature-4270249/
          }
        },

        "OptionB": {
          "Targeting": { // Do we want this to be open for custom targeting mechanisms? It complicates the schema but opens up room for bring your own.
            "Users": [
            ],
            "AudienceRollouts": [
              {
                "Audience": "Ring0",
                "Percentage": 80
              },
              {
                "Audience": "Ring1",
                "Percentage": 40
              },
              {
                "Audience": "Ring2",
                "Percentage": 0
              }
            ],
            "DefaultRollout": { // The name UserRollout collides with Targeting:Users
              "Percentage": 33
            }
          },
          "Configuration": {
            "Width": 480,
            "Height": 360,
            "BorderColor": "Orange",
            "ImageUrl": "https://cdn.pixabay.com/photo/2014/08/15/11/29/sea-418742_960_720.jpg" // https://pixabay.com/photos/pier-jetty-ocean-sea-water-way-569314/
          }
        },

        "OptionC": {
          "Targeting": {
            "Users": [
            ],
            "DefaultRollout": {
              "Percentage": 34
            }
          },
          "Configuration": {
            "Width": 600,
            "Height": 450,
            "BorderColor": "Teal",
            "ImageUrl": "https://cdn.pixabay.com/photo/2014/12/15/17/16/pier-569314_960_720.jpg" // https://pixabay.com/photos/sea-bay-waterfront-beach-nice-418742/
          }
        }
      }
    },

    "EnhancedLogging": {
      "AlwaysOn": true,
      "Variation": {

        "Default": {
          "Name": "Default",
          "Default": true,
          "Configuration": {
            "LogFields": "User-Id, IpAddress"
          }
        },
        "OptionA": {
          "Name": "OptionA",
          "Assignments": [
            "Ring1"
          ],
          "Configuration": {
            "LogFields": "User-Id, IpAddress, RequestCount"
          }
        },
        "OptionB": {
          "Name": "OptionB",
          "Assignments": [
            "Ring0"
          ],
          "Configuration": {
            "LogFields": "User-Id, IpAddress, Duration"
          }
        }
      }
    }
  }
}
